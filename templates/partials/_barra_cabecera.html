<nav class="barra-navegacion">
    <div class="nav-izquierda">
        <div class="logo">
            <img src="{{ url_for('static', filename='icon/nuvoryx.png') }}" alt="Logo" />
            <span class="nombre-marca">Nuvoryx</span>
        </div>
        <ul class="enlaces-nav">
            <li><a href="/">Inicio</a></li>
        </ul>
    </div>
    {% if current_user.is_authenticated %}
    <div class="nav-derecha">
        <div style="position: relative">
            <button class="btn-icono" id="btn-ajustes">
                <span class="material-symbols-outlined">settings</span>
            </button>
            <!-- Panel Ajustes -->
            <div id="panel-ajustes" class="panel-desplegable" style="display: none">
                <button class="opcion-panel" onclick="abrirModalEspecifico('modal-cambiar-correo')">
                    <span class="material-symbols-outlined">mail</span> Cambiar Correo
                </button>
                <button class="opcion-panel" onclick="abrirModalEspecifico('modal-cambiar-contrasena')">
                    <span class="material-symbols-outlined">lock</span> Cambiar
                    Contraseña
                </button>
                <div class="separador-panel"></div>
                <button class="opcion-panel texto-peligro" onclick="abrirModalEspecifico('modal-eliminar-cuenta')">
                    <span class="material-symbols-outlined">delete</span> Eliminar
                    Cuenta
                </button>
            </div>
        </div>

        <button class="btn-icono" id="btn-notificaciones" style="position: relative">
            <span class="material-symbols-outlined">notifications</span>
            <span id="indicador-notificaciones" class="badge-notificacion" style="display: none"></span>
        </button>
        {% endif %}
        <div style="position: relative">
            <div id="btn-usuario" style="cursor: pointer">
                <span class="material-symbols-outlined avatar-icon">account_circle</span>
            </div>
            <!-- Panel Usuario -->
            <div id="panel-usuario" class="panel-desplegable" style="display: none">
                {% if current_user.is_authenticated %}
                <!-- Usuario autenticado -->
                <div class="info-panel-usuario">
                    <span class="material-symbols-outlined"
                        style="font-size: 48px; color: var(--primary-color)">account_circle</span>
                    <div>
                        <p class="nombre-usuario-panel">{{ current_user.nombre }}</p>
                        <p class="email-usuario-panel">{{ current_user.correo }}</p>
                    </div>
                </div>
                <div class="separador-panel"></div>
                <button class="opcion-panel texto-peligro" id="btn-cierre-sesion">
                    <span class="material-symbols-outlined">logout</span> Cerrar Sesión
                </button>
                {% else %}
                <!-- Usuario NO autenticado -->
                <button class="opcion-panel" onclick="abrirModalEspecifico('modal-inicio-sesion')">
                    <span class="material-symbols-outlined">login</span> Iniciar Sesión
                </button>
                <button class="opcion-panel" onclick="abrirModalEspecifico('modal-registro')">
                    <span class="material-symbols-outlined">person_add</span> Crear Cuenta
                </button>
                {% endif %}
            </div>
        </div>
    </div>
</nav>
